<h1>la visite de {{visiteur}} sur le defi {{iddefi}}</h1>
<select #v (change)="setmode(v.value)"    name="mode"  >


  <option  [ngValue]="mode">presentiel</option>
  <option  [ngValue]="mode">distanciel</option>
   </select>
   <div *ngIf="mode==='distanciel'">
    <a href={{defi.distanciel}} class="lien">Lien street view</a>
  </div>
<div>
  <mat-grid-list cols="2" rowHeight="2:1">
    <mat-grid-tile>
      <mat-card id="card">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title id="titre">les indication</mat-card-title>
          <mat-card-subtitle></mat-card-subtitle>
        </mat-card-header>
        <mat-card-content id="content" >
          <label><li>{{desc}}</li>
            <input hidden #in [(ngModel)]="this.desc">
           <button class="btn btn-info" (click)="adddesc()">etape suivant</button>
           </label>
        </mat-card-content>

      </mat-card>
    </mat-grid-tile>
    <mat-grid-tile>
      <mat-card id="card">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title id="titre">Indices</mat-card-title>
          <mat-card-subtitle></mat-card-subtitle>
        </mat-card-header>
        <mat-card-content id="content" >
          <div *ngFor="let indice of indices; let J=index" [ngClass]="'contenue_indices'">
            <p [ngClass]="{'blured':indicesReveles[J]}">
                {{indice?.description}}
            </p>
            <button (click)="revelationIndice(indice,J)"> Co√ªt: {{indice.points + " point(s)"}}</button>
          </div>
        </mat-card-content>

      </mat-card>
    </mat-grid-tile>



    <mat-grid-tile>
      <mat-card id="card">
        <mat-card-header>
          <div mat-card-avatar class="example-header-image"></div>
          <mat-card-title id="titre">les question</mat-card-title>

        </mat-card-header>
        <mat-card-content id="content" >
          <form style="background-color: rgb(243, 172, 105);" #myform="ngForm"
          (ngSubmit)="this.sendvisite()" class="form-control " novalidate>
          <div *ngFor="let q of this.questions ;let  j =index; " >

                <label
                    for="inputContact8">Question{{j+1}}  {{q.description}}</label>
              </div>
            <div *ngFor="let r of reponse ;let  j =index; "  >

                <label  for="inputContact8">reponse{{j+1}}</label>


                    <input name="reponse"#rep="ngModel" [(ngModel)]="r.reponse" required
                        type="{{r.type}}">
                        <small style="color: red;" *ngIf="rep.invalid" >veuillez repondre au question</small>

            </div>
            <button [disabled]="myform.invalid" type="submit" style="color: rgb(20, 22, 20);"
                                          class="btn btn-info">Ajouter visite</button>
            </form>
        </mat-card-content>
        <mat-card-actions>


        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>





  <mat-grid-tile>
    <mat-card id="card">
      <mat-card-header>
        <div mat-card-avatar class="example-header-image"></div>
        <mat-card-title id="titre">commentaire</mat-card-title>
        <mat-card-subtitle></mat-card-subtitle>
      </mat-card-header>
      <mat-card-content id="content" >

          <label>
            commentaire
          </label>
          <input  required [(ngModel)]="this.visite.commentaires" name="commentaire"
          class="form-control" id="inputContact3" type="text">

      </mat-card-content>

    </mat-card>
  </mat-grid-tile>
</mat-grid-list>
</div>
